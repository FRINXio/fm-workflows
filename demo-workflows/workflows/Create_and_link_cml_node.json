{
  "name": "Create_and_link_cml_node",
  "description": "{\"description\":\"Create cml node and link to unmanaged switch\",\"labels\":[]}",
  "workflowStatusListenerEnabled": true,
  "version": 1,
  "tasks": [
    {
      "name": "Allocate_cml_node_ipv4_address",
      "taskReferenceName": "allocate_cml_node_ipv4_address",
      "inputParameters": {
        "node_name": "${workflow.input.node_name}"
      },
      "type": "SUB_WORKFLOW",
      "subWorkflowParam": {
        "name": "Allocate_cml_node_ipv4_address",
        "version": 1
      },
      "startDelay": 0,
      "optional": false,
      "asyncComplete": false,
      "label": "sub-workflow"
    },
    {
      "name": "CREATE_cml_node",
      "taskReferenceName": "create_cml_node",
      "description": "create and run CML node",
      "inputParameters": {
        "node_name": "${workflow.input.node_name}",
        "position": "${workflow.input.position}",
        "ip_address": "${allocate_cml_node_ipv4_address.output.node_ip_address}"
      },
      "type": "SIMPLE",
      "startDelay": 0,
      "optional": false,
      "asyncComplete": false
    },
    {
      "name": "CREATE_link_between_unmanaged_switch_and_created_node",
      "taskReferenceName": "create_link_between_unmanaged_switch_and_created_node",
      "description": "create and run CML node",
      "inputParameters": {
        "node_id": "${create_cml_node.output.node_id}"
      },
      "type": "SIMPLE",
      "startDelay": 0,
      "optional": false,
      "asyncComplete": false
    }
  ],
  "inputParameters": [
    "{\"node_name\":{\"value\":\"\",\"description\":\"Mandatory: node name \"},\"position\":{\"value\":\"\",\"description\":\"X and Y position \"}}"
  ],
  "schemaVersion": 2,
  "restartable": true
}
